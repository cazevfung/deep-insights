{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "transcript_summary": {
      "type": "object",
      "properties": {
        "key_facts": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of factual statements"
        },
        "key_opinions": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of opinions/arguments"
        },
        "key_datapoints": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of data points/statistics"
        },
        "topic_areas": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of topics covered"
        },
        "word_count": {
          "type": "integer",
          "description": "Total word count of the transcript"
        },
        "total_markers": {
          "type": "integer",
          "description": "Total number of markers (facts + opinions + datapoints)"
        }
      },
      "required": ["key_facts", "key_opinions", "key_datapoints", "topic_areas", "word_count", "total_markers"]
    },
    "comments_summary": {
      "type": "object",
      "properties": {
        "total_comments": {
          "type": "integer",
          "description": "Total number of comments analyzed"
        },
        "key_facts_from_comments": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of facts from comments"
        },
        "key_opinions_from_comments": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of opinions from comments"
        },
        "key_datapoints_from_comments": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of data points from comments"
        },
        "major_themes": {
          "type": "array",
          "items": {"type": "string"},
          "description": "List of discussion themes"
        },
        "sentiment_overview": {
          "type": "string",
          "enum": ["mostly_positive", "mixed", "mostly_negative"],
          "description": "Overall sentiment in comments"
        },
        "top_engagement_markers": {
          "type": "array",
          "items": {"type": "string"},
          "description": "High-engagement comments as markers"
        },
        "total_markers": {
          "type": "integer",
          "description": "Total number of markers from comments"
        }
      },
      "required": ["total_comments", "key_facts_from_comments", "key_opinions_from_comments", "key_datapoints_from_comments", "major_themes", "sentiment_overview", "top_engagement_markers", "total_markers"]
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp when summary was created"
    },
    "model_used": {
      "type": "string",
      "description": "Model used for summarization"
    }
  },
  "required": ["transcript_summary", "comments_summary", "created_at", "model_used"]
}





