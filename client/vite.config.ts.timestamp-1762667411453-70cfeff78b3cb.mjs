// vite.config.ts
import { defineConfig } from "file:///Z:/App%20Dev/Research%20Tool/client/node_modules/vite/dist/node/index.js";
import react from "file:///Z:/App%20Dev/Research%20Tool/client/node_modules/@vitejs/plugin-react/dist/index.js";
import path2 from "path";
import { fileURLToPath as fileURLToPath2 } from "url";

// scripts/read-config.js
import fs from "fs";
import path from "path";
import { fileURLToPath } from "url";
import yaml from "file:///Z:/App%20Dev/Research%20Tool/client/node_modules/js-yaml/dist/js-yaml.mjs";
var __vite_injected_original_import_meta_url = "file:///Z:/App%20Dev/Research%20Tool/client/scripts/read-config.js";
var __filename = fileURLToPath(__vite_injected_original_import_meta_url);
var __dirname = path.dirname(__filename);
var configPath = path.resolve(__dirname, "../../config.yaml");
var config = null;
try {
  const configContent = fs.readFileSync(configPath, "utf8");
  config = yaml.load(configContent);
} catch (error) {
  console.warn(`Warning: Could not read config.yaml from ${configPath}`);
  console.warn(`Using default configuration. Error: ${error.message}`);
  config = null;
}
var envBackendPort = process.env.BACKEND_PORT_OVERRIDE;
var envFrontendPort = process.env.FRONTEND_PORT_OVERRIDE;
var backendPort = (() => {
  if (envBackendPort) {
    const parsed = Number.parseInt(envBackendPort, 10);
    if (!Number.isNaN(parsed) && parsed > 0) {
      return parsed;
    }
  }
  return config?.servers?.backend?.port || 3001;
})();
var frontendHost = process.env.FRONTEND_HOST_OVERRIDE || config?.servers?.frontend?.host || "0.0.0.0";
var frontendPort = (() => {
  if (envFrontendPort) {
    const parsed = Number.parseInt(envFrontendPort, 10);
    if (!Number.isNaN(parsed) && parsed > 0) {
      return parsed;
    }
  }
  return config?.servers?.frontend?.port || 3e3;
})();
var proxyTimeout = config?.servers?.frontend?.proxy_timeout || 1e4;
var read_config_default = {
  frontendHost,
  frontendPort,
  backendPort,
  proxyTarget: `http://localhost:${backendPort}`,
  proxyTimeout
};

// vite.config.ts
var __vite_injected_original_import_meta_url2 = "file:///Z:/App%20Dev/Research%20Tool/client/vite.config.ts";
var __filename2 = fileURLToPath2(__vite_injected_original_import_meta_url2);
var __dirname2 = path2.dirname(__filename2);
var vite_config_default = defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      "@": path2.resolve(__dirname2, "./src")
    }
  },
  server: {
    host: read_config_default.frontendHost,
    // Read from config.yaml
    port: read_config_default.frontendPort,
    proxy: {
      "/api": {
        target: read_config_default.proxyTarget,
        changeOrigin: true,
        timeout: read_config_default.proxyTimeout,
        proxyTimeout: read_config_default.proxyTimeout
      },
      "/health": {
        target: read_config_default.proxyTarget,
        changeOrigin: true,
        timeout: read_config_default.proxyTimeout,
        proxyTimeout: read_config_default.proxyTimeout
      },
      "/ws": {
        target: `http://localhost:${read_config_default.backendPort}`,
        ws: true,
        changeOrigin: true
      }
    }
  }
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcudHMiLCAic2NyaXB0cy9yZWFkLWNvbmZpZy5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIlo6XFxcXEFwcCBEZXZcXFxcUmVzZWFyY2ggVG9vbFxcXFxjbGllbnRcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZmlsZW5hbWUgPSBcIlo6XFxcXEFwcCBEZXZcXFxcUmVzZWFyY2ggVG9vbFxcXFxjbGllbnRcXFxcdml0ZS5jb25maWcudHNcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfaW1wb3J0X21ldGFfdXJsID0gXCJmaWxlOi8vL1o6L0FwcCUyMERldi9SZXNlYXJjaCUyMFRvb2wvY2xpZW50L3ZpdGUuY29uZmlnLnRzXCI7aW1wb3J0IHsgZGVmaW5lQ29uZmlnIH0gZnJvbSAndml0ZSdcbmltcG9ydCByZWFjdCBmcm9tICdAdml0ZWpzL3BsdWdpbi1yZWFjdCdcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXG5pbXBvcnQgeyBmaWxlVVJMVG9QYXRoIH0gZnJvbSAndXJsJ1xuLy8gQHRzLWlnbm9yZSAtIEphdmFTY3JpcHQgbW9kdWxlLCBubyBUeXBlU2NyaXB0IGRlZmluaXRpb25zXG5pbXBvcnQgc2VydmVyQ29uZmlnIGZyb20gJy4vc2NyaXB0cy9yZWFkLWNvbmZpZy5qcydcblxuLy8gR2V0IF9fZGlybmFtZSBlcXVpdmFsZW50IGluIEVTIG1vZHVsZXNcbmNvbnN0IF9fZmlsZW5hbWUgPSBmaWxlVVJMVG9QYXRoKGltcG9ydC5tZXRhLnVybClcbmNvbnN0IF9fZGlybmFtZSA9IHBhdGguZGlybmFtZShfX2ZpbGVuYW1lKVxuXG4vLyBodHRwczovL3ZpdGVqcy5kZXYvY29uZmlnL1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29uZmlnKHtcbiAgcGx1Z2luczogW3JlYWN0KCldLFxuICByZXNvbHZlOiB7XG4gICAgYWxpYXM6IHtcbiAgICAgICdAJzogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4vc3JjJyksXG4gICAgfSxcbiAgfSxcbiAgc2VydmVyOiB7XG4gICAgaG9zdDogc2VydmVyQ29uZmlnLmZyb250ZW5kSG9zdCwgLy8gUmVhZCBmcm9tIGNvbmZpZy55YW1sXG4gICAgcG9ydDogc2VydmVyQ29uZmlnLmZyb250ZW5kUG9ydCxcbiAgICBwcm94eToge1xuICAgICAgJy9hcGknOiB7XG4gICAgICAgIHRhcmdldDogc2VydmVyQ29uZmlnLnByb3h5VGFyZ2V0LFxuICAgICAgICBjaGFuZ2VPcmlnaW46IHRydWUsXG4gICAgICAgIHRpbWVvdXQ6IHNlcnZlckNvbmZpZy5wcm94eVRpbWVvdXQsXG4gICAgICAgIHByb3h5VGltZW91dDogc2VydmVyQ29uZmlnLnByb3h5VGltZW91dCxcbiAgICAgIH0sXG4gICAgICAnL2hlYWx0aCc6IHtcbiAgICAgICAgdGFyZ2V0OiBzZXJ2ZXJDb25maWcucHJveHlUYXJnZXQsXG4gICAgICAgIGNoYW5nZU9yaWdpbjogdHJ1ZSxcbiAgICAgICAgdGltZW91dDogc2VydmVyQ29uZmlnLnByb3h5VGltZW91dCxcbiAgICAgICAgcHJveHlUaW1lb3V0OiBzZXJ2ZXJDb25maWcucHJveHlUaW1lb3V0LFxuICAgICAgfSxcbiAgICAgICcvd3MnOiB7XG4gICAgICAgIHRhcmdldDogYGh0dHA6Ly9sb2NhbGhvc3Q6JHtzZXJ2ZXJDb25maWcuYmFja2VuZFBvcnR9YCxcbiAgICAgICAgd3M6IHRydWUsXG4gICAgICAgIGNoYW5nZU9yaWdpbjogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbn0pXG5cblxuIiwgImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCJaOlxcXFxBcHAgRGV2XFxcXFJlc2VhcmNoIFRvb2xcXFxcY2xpZW50XFxcXHNjcmlwdHNcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZmlsZW5hbWUgPSBcIlo6XFxcXEFwcCBEZXZcXFxcUmVzZWFyY2ggVG9vbFxcXFxjbGllbnRcXFxcc2NyaXB0c1xcXFxyZWFkLWNvbmZpZy5qc1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vWjovQXBwJTIwRGV2L1Jlc2VhcmNoJTIwVG9vbC9jbGllbnQvc2NyaXB0cy9yZWFkLWNvbmZpZy5qc1wiOy8qKlxuICogUmVhZCBjb25maWcueWFtbCBhbmQgZXhwb3J0IGZyb250ZW5kIHNlcnZlciBjb25maWd1cmF0aW9uLlxuICogVGhpcyBzY3JpcHQgcmVhZHMgdGhlIGNvbmZpZy55YW1sIGZpbGUgYW5kIGV4dHJhY3RzIHNlcnZlciBjb25maWd1cmF0aW9uXG4gKiBmb3IgdXNlIGluIHZpdGUuY29uZmlnLnRzLlxuICovXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBmaWxlVVJMVG9QYXRoIH0gZnJvbSAndXJsJztcbmltcG9ydCB5YW1sIGZyb20gJ2pzLXlhbWwnO1xuXG4vLyBHZXQgX19kaXJuYW1lIGVxdWl2YWxlbnQgaW4gRVMgbW9kdWxlc1xuY29uc3QgX19maWxlbmFtZSA9IGZpbGVVUkxUb1BhdGgoaW1wb3J0Lm1ldGEudXJsKTtcbmNvbnN0IF9fZGlybmFtZSA9IHBhdGguZGlybmFtZShfX2ZpbGVuYW1lKTtcblxuLy8gUGF0aCB0byBjb25maWcueWFtbCAodHdvIGxldmVscyB1cCBmcm9tIGNsaWVudC9zY3JpcHRzLylcbmNvbnN0IGNvbmZpZ1BhdGggPSBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnLi4vLi4vY29uZmlnLnlhbWwnKTtcblxubGV0IGNvbmZpZyA9IG51bGw7XG5cbnRyeSB7XG4gIGNvbnN0IGNvbmZpZ0NvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoY29uZmlnUGF0aCwgJ3V0ZjgnKTtcbiAgY29uZmlnID0geWFtbC5sb2FkKGNvbmZpZ0NvbnRlbnQpO1xufSBjYXRjaCAoZXJyb3IpIHtcbiAgY29uc29sZS53YXJuKGBXYXJuaW5nOiBDb3VsZCBub3QgcmVhZCBjb25maWcueWFtbCBmcm9tICR7Y29uZmlnUGF0aH1gKTtcbiAgY29uc29sZS53YXJuKGBVc2luZyBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uIEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gIGNvbmZpZyA9IG51bGw7XG59XG5cbi8vIEV4dHJhY3Qgc2VydmVyIGNvbmZpZ3VyYXRpb24gd2l0aCBkZWZhdWx0c1xuY29uc3QgZW52QmFja2VuZFBvcnQgPSBwcm9jZXNzLmVudi5CQUNLRU5EX1BPUlRfT1ZFUlJJREU7XG5jb25zdCBlbnZGcm9udGVuZFBvcnQgPSBwcm9jZXNzLmVudi5GUk9OVEVORF9QT1JUX09WRVJSSURFO1xuXG5jb25zdCBiYWNrZW5kUG9ydCA9ICgoKSA9PiB7XG4gIGlmIChlbnZCYWNrZW5kUG9ydCkge1xuICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlci5wYXJzZUludChlbnZCYWNrZW5kUG9ydCwgMTApO1xuICAgIGlmICghTnVtYmVyLmlzTmFOKHBhcnNlZCkgJiYgcGFyc2VkID4gMCkge1xuICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbmZpZz8uc2VydmVycz8uYmFja2VuZD8ucG9ydCB8fCAzMDAxO1xufSkoKTtcblxuY29uc3QgZnJvbnRlbmRIb3N0ID0gcHJvY2Vzcy5lbnYuRlJPTlRFTkRfSE9TVF9PVkVSUklERSB8fCBjb25maWc/LnNlcnZlcnM/LmZyb250ZW5kPy5ob3N0IHx8ICcwLjAuMC4wJztcblxuY29uc3QgZnJvbnRlbmRQb3J0ID0gKCgpID0+IHtcbiAgaWYgKGVudkZyb250ZW5kUG9ydCkge1xuICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlci5wYXJzZUludChlbnZGcm9udGVuZFBvcnQsIDEwKTtcbiAgICBpZiAoIU51bWJlci5pc05hTihwYXJzZWQpICYmIHBhcnNlZCA+IDApIHtcbiAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb25maWc/LnNlcnZlcnM/LmZyb250ZW5kPy5wb3J0IHx8IDMwMDA7XG59KSgpO1xuY29uc3QgcHJveHlUaW1lb3V0ID0gY29uZmlnPy5zZXJ2ZXJzPy5mcm9udGVuZD8ucHJveHlfdGltZW91dCB8fCAxMDAwMDtcblxuLy8gRXhwb3J0IGNvbmZpZ3VyYXRpb25cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZnJvbnRlbmRIb3N0LFxuICBmcm9udGVuZFBvcnQsXG4gIGJhY2tlbmRQb3J0LFxuICBwcm94eVRhcmdldDogYGh0dHA6Ly9sb2NhbGhvc3Q6JHtiYWNrZW5kUG9ydH1gLFxuICBwcm94eVRpbWVvdXQsXG59O1xuXG4iXSwKICAibWFwcGluZ3MiOiAiO0FBQTJSLFNBQVMsb0JBQW9CO0FBQ3hULE9BQU8sV0FBVztBQUNsQixPQUFPQSxXQUFVO0FBQ2pCLFNBQVMsaUJBQUFDLHNCQUFxQjs7O0FDRTlCLE9BQU8sUUFBUTtBQUNmLE9BQU8sVUFBVTtBQUNqQixTQUFTLHFCQUFxQjtBQUM5QixPQUFPLFVBQVU7QUFSOEssSUFBTSwyQ0FBMkM7QUFXaFAsSUFBTSxhQUFhLGNBQWMsd0NBQWU7QUFDaEQsSUFBTSxZQUFZLEtBQUssUUFBUSxVQUFVO0FBR3pDLElBQU0sYUFBYSxLQUFLLFFBQVEsV0FBVyxtQkFBbUI7QUFFOUQsSUFBSSxTQUFTO0FBRWIsSUFBSTtBQUNGLFFBQU0sZ0JBQWdCLEdBQUcsYUFBYSxZQUFZLE1BQU07QUFDeEQsV0FBUyxLQUFLLEtBQUssYUFBYTtBQUNsQyxTQUFTLE9BQU87QUFDZCxVQUFRLEtBQUssNENBQTRDLFVBQVUsRUFBRTtBQUNyRSxVQUFRLEtBQUssdUNBQXVDLE1BQU0sT0FBTyxFQUFFO0FBQ25FLFdBQVM7QUFDWDtBQUdBLElBQU0saUJBQWlCLFFBQVEsSUFBSTtBQUNuQyxJQUFNLGtCQUFrQixRQUFRLElBQUk7QUFFcEMsSUFBTSxlQUFlLE1BQU07QUFDekIsTUFBSSxnQkFBZ0I7QUFDbEIsVUFBTSxTQUFTLE9BQU8sU0FBUyxnQkFBZ0IsRUFBRTtBQUNqRCxRQUFJLENBQUMsT0FBTyxNQUFNLE1BQU0sS0FBSyxTQUFTLEdBQUc7QUFDdkMsYUFBTztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBQ0EsU0FBTyxRQUFRLFNBQVMsU0FBUyxRQUFRO0FBQzNDLEdBQUc7QUFFSCxJQUFNLGVBQWUsUUFBUSxJQUFJLDBCQUEwQixRQUFRLFNBQVMsVUFBVSxRQUFRO0FBRTlGLElBQU0sZ0JBQWdCLE1BQU07QUFDMUIsTUFBSSxpQkFBaUI7QUFDbkIsVUFBTSxTQUFTLE9BQU8sU0FBUyxpQkFBaUIsRUFBRTtBQUNsRCxRQUFJLENBQUMsT0FBTyxNQUFNLE1BQU0sS0FBSyxTQUFTLEdBQUc7QUFDdkMsYUFBTztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBQ0EsU0FBTyxRQUFRLFNBQVMsVUFBVSxRQUFRO0FBQzVDLEdBQUc7QUFDSCxJQUFNLGVBQWUsUUFBUSxTQUFTLFVBQVUsaUJBQWlCO0FBR2pFLElBQU8sc0JBQVE7QUFBQSxFQUNiO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBLGFBQWEsb0JBQW9CLFdBQVc7QUFBQSxFQUM1QztBQUNGOzs7QUQ5RDZLLElBQU1DLDRDQUEyQztBQVE5TixJQUFNQyxjQUFhQyxlQUFjRix5Q0FBZTtBQUNoRCxJQUFNRyxhQUFZQyxNQUFLLFFBQVFILFdBQVU7QUFHekMsSUFBTyxzQkFBUSxhQUFhO0FBQUEsRUFDMUIsU0FBUyxDQUFDLE1BQU0sQ0FBQztBQUFBLEVBQ2pCLFNBQVM7QUFBQSxJQUNQLE9BQU87QUFBQSxNQUNMLEtBQUtHLE1BQUssUUFBUUQsWUFBVyxPQUFPO0FBQUEsSUFDdEM7QUFBQSxFQUNGO0FBQUEsRUFDQSxRQUFRO0FBQUEsSUFDTixNQUFNLG9CQUFhO0FBQUE7QUFBQSxJQUNuQixNQUFNLG9CQUFhO0FBQUEsSUFDbkIsT0FBTztBQUFBLE1BQ0wsUUFBUTtBQUFBLFFBQ04sUUFBUSxvQkFBYTtBQUFBLFFBQ3JCLGNBQWM7QUFBQSxRQUNkLFNBQVMsb0JBQWE7QUFBQSxRQUN0QixjQUFjLG9CQUFhO0FBQUEsTUFDN0I7QUFBQSxNQUNBLFdBQVc7QUFBQSxRQUNULFFBQVEsb0JBQWE7QUFBQSxRQUNyQixjQUFjO0FBQUEsUUFDZCxTQUFTLG9CQUFhO0FBQUEsUUFDdEIsY0FBYyxvQkFBYTtBQUFBLE1BQzdCO0FBQUEsTUFDQSxPQUFPO0FBQUEsUUFDTCxRQUFRLG9CQUFvQixvQkFBYSxXQUFXO0FBQUEsUUFDcEQsSUFBSTtBQUFBLFFBQ0osY0FBYztBQUFBLE1BQ2hCO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFDRixDQUFDOyIsCiAgIm5hbWVzIjogWyJwYXRoIiwgImZpbGVVUkxUb1BhdGgiLCAiX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCIsICJfX2ZpbGVuYW1lIiwgImZpbGVVUkxUb1BhdGgiLCAiX19kaXJuYW1lIiwgInBhdGgiXQp9Cg==
